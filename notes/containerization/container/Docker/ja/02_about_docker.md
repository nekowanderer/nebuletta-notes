# Dockerについて

[English](../en/02_about_docker.md) | [繁體中文](../zh-tw/02_about_docker.md) | [日本語](../ja/02_about_docker.md) | [インデックスに戻る](../README.md)

### Dockerの基本アーキテクチャ
Dockerの基本アーキテクチャは、以下の主要なコンポーネントで構成されています：
1. Docker Engine
   - 標準化されたコンテナ環境を提供
   - システムリソース（CPU、メモリなど）の割り当てを管理
   - コンテナ実行の基盤となるプラットフォーム

2. Dockerコンテナ
   - 仮想化された実行空間
   - Docker Engineを通じてシステムリソースを取得
   - 複数のコンテナを同時に実行可能

3. Dockerイメージ
   - アプリケーションに必要な環境やファイルをすべて含む
   - 既存のイメージ（例：CentOS）をベースにカスタマイズ可能
   - コンテナ化デプロイの最小単位

### クロスプラットフォーム展開の仕組み
Dockerがクロスプラットフォーム展開を実現する鍵は以下の通りです：
1. 標準化された環境
   - どのOS（Linux、Windows、MacOS）にもDocker Engineをインストール可能
   - すべての環境が同じコンテナ化標準に従う

2. Docker Hub
   - Dockerイメージを共有するためのクラウドスペース
   - 開発者は独自のイメージをアップロード可能
   - 他のユーザーはこれらのイメージをダウンロードして利用可能
   - 世界中の開発者間でリソース共有を実現

### 実務運用アーキテクチャ
実際の運用におけるDockerのワークフローは以下の通りです：

1. 開発フェーズ
   - Dockerfileを作成し、イメージ仕様を定義
   - `docker build`コマンドでイメージを作成
   - `docker images`で既存のイメージを確認

2. 実行フェーズ
   - `docker run`でコンテナを起動
   - `docker container ls`で稼働中のコンテナを監視
   - `-p`パラメータでネットワークポートを設定
   - `docker network ls`でネットワーク設定を確認

3. データ永続化
   - Docker Volumeでデータを保存
   - データはコンテナ外部に保存される
   - `-v`パラメータでボリュームをマウント
   - `docker volume ls`で既存のボリュームを確認

### 図解
1. コンテナはデフォルトで分離されており、外部公開には特別な設定が必要です
2. ボリュームの設計により、コンテナが削除されてもデータは失われません

```
+----------------------+
|        Host          |
+----------------------+
|     Docker Engine    |
+----------------------+
|      Network         | <--- docker run -p / docker network ls
+----------------------+
|      Container       | <--- docker run / docker container ls
|   +--------------+   |
|   |   Volume     |   | <--- docker run -v / docker volume ls
|   +--------------+   |
+----------------------+
|      Image           | <--- docker build / docker images
|   +------------+     |
|   | Dockerfile |     |
|   +------------+     |
+----------------------+
```

#### 説明
- この図は、Dockerイメージの視点から上層へとアーキテクチャを示しています。
- 各層はDockerアーキテクチャのコンポーネントを表し、最下層のイメージ（内部にDockerfileを含む）から最上層のHostまでを示します。
- Volumeはコンテナ内部のデータ保存領域であり、外部データ永続化に関係します。
- Docker EngineはNetworkとHostの間にあるコア層で、すべてのコンポーネントの調整を担います。
- 各層の管理・確認に対応するコマンドが右側に記載されています。

図から分かるように、Dockerの各コンポーネントは対応するコマンドで管理・確認でき、Dockerのレイヤー設計と実務ワークフローの理解に役立ちます。 